<div th:fragment="content">
    <div class="card">
        <div class="card-body">
            <h2 class="card-title">Générer Salaire</h2>

            <form  th:action="@{/salary-add-salary}" method="post">
                <div>
                    <label for="ref">Employé :</label>
                    <select id="ref" name="ref" required>
                        <option value="">-- Sélectionnez un Employé --</option>
                        <option th:each="emp : ${employees}" 
                                th:value="${emp.name}" 
                                th:text="${emp.first_name} + '/' + ${emp.name}">
                        </option>
                    </select>
                </div>

                <div>
                    <label for="date_debut">Date début :</label>
                    <input type="date" id="date_debut" name="dateDebut" required>
                </div>

                <div>
                    <label for="date_fin">Date fin :</label>
                    <input type="date" id="date_fin" name="dateFin" required>
                </div>

                <div>
                    <label for="company">Compagnie :</label>
                    <select id="company" name="company" required>
                        <option value="">-- Sélectionnez company --</option>
                        <option th:each="comp : ${company}" 
                                th:value="${comp.name}" 
                                th:text="${comp.name}">
                        </option>
                    </select>
                </div>

                <div>
                    <label for="montant">Montant :</label>
                    <input type="number" id="montant" name="montant" min="0" step="0.01" value="0">
                </div>

                <div>
                    <label>
                        <input type="checkbox" id="useMoyenne" name="useMoyenne" value="true" />
                        Utiliser la moyenne des salaires de base de tous les employés
                    </label>
                </div>

                <div>
                    <label for="salaryStructure">Salary Structure :</label>
                    <select id="salaryStructure" name="salaryStructure" required>
                        <option value="">-- Sélectionnez company --</option>
                        <option th:each="struct : ${structure}" 
                                th:value="${struct.name}" 
                                th:text="${struct.name}">
                        </option>
                    </select>
                </div>

                <div>
                    <label>Opération :</label><br>
                    <input type="radio" id="ecraser" name="operation" value="oui" checked />
                    <label for="ecraser">Ecraser</label>
                </div>

                <div>
                    <button type="submit" class="btn-generer">Générer</button>
                </div>

                <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
                <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
            </form>
        </div>
    </div>
</div>

<!-- Ajouter le script à la fin -->
<script th:src="@{/JS/form-salary.js}"></script>
